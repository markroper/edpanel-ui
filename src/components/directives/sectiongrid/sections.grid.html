<div class="section-grid">
	<div ng-show="showFilter">
		<div layout="row" layout-align="center center">
			<md-card>
      	<md-input-container md-no-float>
      		<input ng-model="search.name" placeholder="Search students by name" tabindex="1">
      	</md-input-container>
    	</md-card>
		</div>
	</div>
	<div style="padding-left:20%; padding-right:20%;" layout="column" layout-align="center center" ng-show="!sectionsData">
		<h3 flex="50">Loading...</h3>
		<br/>
		<md-progress-linear md-mode="indeterminate" flex="50"></md-progress-linear>
	</div>
	<section layout="row" layout-align="center center">
		<div class="table-container" ng-show="sectionsData">
			<div hide-sm layout="row" style="font-size: 16px; width:100%;">
				<div flex="{{::cellWidth}}" class="table-cell" ng-show="showFilter"></div>
				<div flex="{{::cellWidth}}" class="table-cell">Class Average</div>
				<div flex="{{::cellWidth}}" class="table-cell">HW Completion</div>
				<div flex="{{::cellWidth}}" class="table-cell">Attendance</div>
				<div flex="{{::cellWidth}}" class="table-cell">GPA</div>
			</div>
      <div class="table-row" layout="row" layout-wrap ng-repeat="section in sectionsData | orderBy:'course.name' | filter:search:strict | limitTo: limit track by section.id">
        <div class="table-cell" flex="{{::cellWidth}}" flex-sm="100" ng-show="showFilter">
          <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
            <md-button md-no-ink class="md-primary" ng-click="goToStudent(student)">
            {{::section.course.name}}
            <md-tooltip>Click for student dashboard</md-tooltip>
          </md-button>
          </section>
        </div>
        <div class="table-cell" flex="{{::cellWidth}}" flex-sm="50" ng-click="showBehaviorTray($event, student)">
          <div class="choropleth band-{{::section.gradeClass}}" layout="row" layout-align="center center">
            <span class="mobile-label md-subhead" hide-gt-sm>Behavior</span>
            <div class="toggle-icon-wrapper" layout="column" layout-align="center center">
              <md-icon md-font-set="material-icons" class="material-icons md-48 arrow-icon"> keyboard_arrow_down </md-icon>
            </div>
            <md-tooltip>{{::student.behaviorPeriod || 'period'}}'s prep score: {{::section.aveGrade|| 90}}</md-tooltip>
          </div>
        </div>
        <div class="table-cell" flex="{{::cellWidth}}" flex-sm="50" ng-click="showHomeworkTray($event, student)">
          <div class="choropleth band-{{::student.homeworkClass}}" layout="row" layout-align="center center">
            <span class="mobile-label md-subhead" hide-gt-sm>Homework</span>
            <div class="toggle-icon-wrapper" layout="column" layout-align="center center">
              <md-icon md-font-set="material-icons" class="material-icons md-48 arrow-icon"> keyboard_arrow_down </md-icon>
            </div>
            <md-tooltip>{{::student.homework || 0}}% annual completion</md-tooltip>
          </div>
        </div>
        <div class="table-cell" flex="{{::cellWidth}}" flex-sm="50" ng-click="showAttendanceTray($event, student)">
          <div class="choropleth band-{{::student.attendanceClass}}" layout="row" layout-align="center center">
            <span class="mobile-label md-subhead" hide-gt-sm>Attendance</span>
            <div class="toggle-icon-wrapper" layout="column" layout-align="center center">
              <md-icon md-font-set="material-icons" class="material-icons md-48 arrow-icon"> keyboard_arrow_down </md-icon>
            </div>
            <md-tooltip>{{::student.attendance || 0}} absenses this {{::student.attendancePeriod || 'period'}}</md-tooltip>
          </div>
        </div>
        <div class="table-cell" flex="{{::cellWidth}}" flex-sm="50" ng-click="showGpaTray($event, student)">
          <div class="choropleth band-{{::student.gpaClass}}" layout="row" layout-align="center center">
            <span class="mobile-label md-subhead" hide-gt-sm>GPA</span>
            <div class="toggle-icon-wrapper" layout="column" layout-align="center center">
              <md-icon md-font-set="material-icons" class="material-icons md-48 arrow-icon"> keyboard_arrow_down </md-icon>
            </div>
            <md-tooltip>Current GPA: {{::student.gpa || '-'}}</md-tooltip>
          </div>
        </div>
      </div>
		</div>
	</section>
  <md-button md-no-ink class="md-primary" ng-click="increaseLimit()" ng-show="showMoreStudents && studentsData" style="margin:10px 0px;">More students</md-button>
</div>
